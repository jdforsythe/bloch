"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const env = process.env;
const REQUIRED_ENV_VARS = [
    'P2P_PORT',
    'MAX_PEERS',
    'MINER_PUB_KEY',
    'MINER_PRIV_KEY',
    'HTTP_HOST',
    'HTTP_PORT',
];
/**
 * Configuration singleton
 */
exports.environment = (() => {
    REQUIRED_ENV_VARS.forEach((v) => assert(env[v], new Error(`[FATAL] Missing environment variable ${v}`)));
    return {
        p2pPort: +env.P2P_PORT,
        knownPeers: env.KNOWN_PEERS ? env.KNOWN_PEERS.split(',') : [],
        maxPeers: +env.MAX_PEERS,
        httpHost: env.HTTP_HOST,
        httpPort: +env.HTTP_PORT,
        minerPubKey: env.MINER_PUB_KEY,
        minerPrivKey: env.MINER_PRIV_KEY,
    };
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy9lbnYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBaUM7QUFFakMsTUFBTSxHQUFHLEdBQXNCLE9BQU8sQ0FBQyxHQUFHLENBQUM7QUFFM0MsTUFBTSxpQkFBaUIsR0FBYTtJQUNsQyxVQUFVO0lBQ1YsV0FBVztJQUNYLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLFdBQVc7Q0FDWixDQUFDO0FBMENGOztHQUVHO0FBQ1UsUUFBQSxXQUFXLEdBQTZCLENBQUMsR0FBNkIsRUFBRTtJQUNuRixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxLQUFLLENBQUMsd0NBQXdDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXpHLE9BQU87UUFDTCxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUTtRQUN0QixVQUFVLEVBQUUsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDN0QsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVM7UUFDeEIsUUFBUSxFQUFFLEdBQUcsQ0FBQyxTQUFTO1FBQ3ZCLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTO1FBQ3hCLFdBQVcsRUFBRSxHQUFHLENBQUMsYUFBYTtRQUM5QixZQUFZLEVBQUUsR0FBRyxDQUFDLGNBQWM7S0FDakMsQ0FBQztBQUNKLENBQUMsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuY29uc3QgZW52OiBOb2RlSlMuUHJvY2Vzc0VudiA9IHByb2Nlc3MuZW52O1xuXG5jb25zdCBSRVFVSVJFRF9FTlZfVkFSUzogc3RyaW5nW10gPSBbXG4gICdQMlBfUE9SVCcsXG4gICdNQVhfUEVFUlMnLFxuICAnTUlORVJfUFVCX0tFWScsXG4gICdNSU5FUl9QUklWX0tFWScsXG4gICdIVFRQX0hPU1QnLFxuICAnSFRUUF9QT1JUJyxcbl07XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBsb2FkZWQgZnJvbSB0aGUgZW52aXJvbm1lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbnZpcm9ubWVudENvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogUG9ydCB0byBsaXN0ZW4gb24gZm9yIHAycCBzZXJ2ZXJcbiAgICovXG4gIHAycFBvcnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogTGlzdCBvZiB3ZWxsIGtub3duIHBlZXJzIGluIGZvcm1hdCAnaG9zdDpwb3J0J1xuICAgKi9cbiAga25vd25QZWVyczogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIE1heGltdW0gbnVtYmVyIG9mIHBlZXIgY29ubmVjdGlvbnMgdG8gb3BlblxuICAgKi9cbiAgbWF4UGVlcnM6IG51bWJlcjtcblxuICAvKipcbiAgICogSG9zdCB0byBsaXN0ZW4gb24gZm9yIEhUVFAgQVBJXG4gICAqL1xuICBodHRwSG9zdDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBQb3J0IHRvIGxpc3RlbiBvbiBmb3IgSFRUUCBBUElcbiAgICovXG4gIGh0dHBQb3J0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBrZXkgYWRkcmVzcyB0byBtaW5lcidzIHdhbGxldFxuICAgKi9cbiAgbWluZXJQdWJLZXk6IHN0cmluZztcblxuICAvKipcbiAgICogUHJpdmF0ZSBrZXkgdG8gc2lnbiBmcm9tIG1pbmVyJ3Mgd2FsbGV0XG4gICAqL1xuICBtaW5lclByaXZLZXk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIHNpbmdsZXRvblxuICovXG5leHBvcnQgY29uc3QgZW52aXJvbm1lbnQ6IEVudmlyb25tZW50Q29uZmlndXJhdGlvbiA9ICgoKTogRW52aXJvbm1lbnRDb25maWd1cmF0aW9uID0+IHtcbiAgUkVRVUlSRURfRU5WX1ZBUlMuZm9yRWFjaCgodikgPT4gYXNzZXJ0KGVudlt2XSwgbmV3IEVycm9yKGBbRkFUQUxdIE1pc3NpbmcgZW52aXJvbm1lbnQgdmFyaWFibGUgJHt2fWApKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwMnBQb3J0OiArZW52LlAyUF9QT1JULFxuICAgIGtub3duUGVlcnM6IGVudi5LTk9XTl9QRUVSUyA/IGVudi5LTk9XTl9QRUVSUy5zcGxpdCgnLCcpIDogW10sXG4gICAgbWF4UGVlcnM6ICtlbnYuTUFYX1BFRVJTLFxuICAgIGh0dHBIb3N0OiBlbnYuSFRUUF9IT1NULFxuICAgIGh0dHBQb3J0OiArZW52LkhUVFBfUE9SVCxcbiAgICBtaW5lclB1YktleTogZW52Lk1JTkVSX1BVQl9LRVksXG4gICAgbWluZXJQcml2S2V5OiBlbnYuTUlORVJfUFJJVl9LRVksXG4gIH07XG59KSgpO1xuIl19